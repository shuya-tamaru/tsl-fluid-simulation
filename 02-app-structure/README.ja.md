# 02-app-structure - Three.js アプリケーション構成

> [English version is here](README.md)

Manager パターンを使用した、流体シミュレーション開発用の構造化された Three.js アプリケーションです。

## プロジェクト構造

```
src/
├── main.ts              # エントリーポイント
└── app/
    ├── App.ts           # メインアプリケーションクラス
    └── core/
        ├── Camera.ts    # カメラ管理
        ├── Controls.ts  # OrbitControls ラッパー
        ├── Renderer.ts  # WebGPU レンダラー管理
        └── Scene.ts     # シーン管理
```

## 主な特徴

### 🎯 Manager パターン

- **関心の分離**: 各コンポーネントに専用のマネージャーを配置
- **クリーンアーキテクチャ**: 保守性と拡張性を重視
- **再利用可能**: マネージャーは他のプロジェクトでも使用可能

### 🚀 WebGPU レンダリング

- **モダングラフィックス**: Three.js WebGPU レンダラーを使用
- **高性能**: 流体シミュレーションに最適化
- **将来性**: 次世代グラフィックス API

### 🎮 インタラクティブコントロール

- **OrbitControls**: マウス/タッチによるカメラ操作
- **スムーズダンピング**: 自然なカメラ動作
- **レスポンシブデザイン**: ウィンドウリサイズに対応

## アーキテクチャ概要

### App クラス

- **中央制御**: すべてのマネージャーを統括
- **ライフサイクル管理**: 初期化とクリーンアップを処理
- **アニメーションループ**: 適切なクリーンアップを含むレンダーループ

### コアマネージャー

#### SceneManager

- Three.js シーンの管理
- オブジェクトの追加/削除
- 背景色の設定

#### CameraManager

- パースペクティブカメラの設定
- アスペクト比の処理
- 位置の設定

#### RendererManager

- WebGPU レンダラーの初期化
- DOM 要素の管理
- レスポンシブリサイズ

#### ControlsManager

- OrbitControls の設定
- ダンピングと制限の設定
- アップデートループの統合

## 使用方法

1. **初期化**: すべてのマネージャーを作成し、シーンをセットアップ
2. **オブジェクト追加**: `sceneManager.add()` を使用して 3D オブジェクトを追加
3. **アニメーション**: コントロール更新を含む自動レンダーループ
4. **クリーンアップ**: `cleanup()` による適切なリソース管理
